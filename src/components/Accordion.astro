---
const { title } = Astro.props;
---

<details class="border-b border-b-brun-400 mb-xxs group">
  <summary class="text-brun-700 cursor-pointer p-xs flex justify-between items-center">
    {title}
    <svg
      class="w-sm h-4 ml-xs transition-transform duration-300 ease-in-out group-open:rotate-180"
      xmlns="http://www.w3.org/2000/svg"
      fill="none"
      viewBox="0 0 24 24"
      stroke="currentColor"
    >
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
    </svg>
  </summary>
  <article class="p-xs flex justify-between flex-col gap-xs">
    <slot />
  </article>
</details>

<style>

  details[open] > summary::after {
    transform: rotate(-180deg);
  }

</style>

<script>
  // Fetch all the details element.
  const details = document.querySelectorAll("details");

  // Add the onclick listeners.
  details.forEach((targetDetail) => {
    targetDetail.addEventListener("click", () => {
      // Close all the details that are not targetDetail.
      details.forEach((detail) => {
        if (detail !== targetDetail) {
          detail.removeAttribute("open");
        }
      });
    });
  });
</script>